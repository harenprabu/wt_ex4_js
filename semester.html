<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CGPA Calculator</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body>
    <div class="container-fluid bg-dark">
        <h1 class="text-center  bg-black text-warning">CGPA Calculator</h1>
    </div>
    <form>
        <div class="container shadow-lg p-3 mb-5 bg-white  rounded  pb-1 border border-dark rounded ">
            <div class="form-group">
                <label for="formGroupExampleInput">Number of Semester :</label>

                <input type="number" class="form-control" id="formGroupExampleInput" name="number_of_semester">
                <button type="submit" class="submitBtn btn btn-danger  mt-3  ">Submit</button>

                <p>&nbsp;</p>
                <div id="semester_marks">

                </div>

                <div id="marks" class="d-none">
                    <div class="">Your Average Result : <span id="average_result"></span></div>

                </div>
    </form>
    </div>

    <script>
        //button function
        //querySelector to  call var
        window.onload = function () {
            document.querySelector(".submitBtn").addEventListener("click", function () {
                var number_of_semester_obj = document.querySelector("input[name=number_of_semester]");
                number_of_semester = parseInt(number_of_semester_obj.value);

                html = ''; // sem innerhtml(Add)
                for (i = 1; i <= number_of_semester; i++) {
                    html += '<div class="nofsem" id="sem' + i + '">';
                    html += '<label class="semno">' + ordinal_suffix_of(i) + ' Sem : </label>';
                    html += '<input type="number" name="sem" required="" id="sem_mark' + i + '" class="form-control sem" placeholder="Marks of ' + ordinal_suffix_of(i) + ' Sem">';
                    html += '</div>';
                }

                html += '<button type="button" class ="btn btn-danger  mt-3 " id="calc_marks">Calculate Marks</button>';

                document.getElementById("semester_marks").innerHTML = html;
            });

            document.addEventListener('click', function (e) {
                if (e.target && e.target.id && e.target.id == 'calc_marks') {
                    var number_of_semester_obj = document.querySelector("input[name=number_of_semester]");
                    number_of_semester = parseInt(number_of_semester_obj.value);

                    total_marks = 0;
                    for (i = 1; i <= number_of_semester; i++) {
                        var sem_mark = document.getElementById("sem_mark" + i).value;
                        total_marks += parseInt(sem_mark);
                    }

                    document.getElementById("marks").classList.remove("d-none");

                    document.getElementById("average_result").innerHTML = total_marks / number_of_semester;
                    document.getElementById("equivalent_percentage").innerHTML = total_marks / number_of_semester;
                }
            });
        };

        function ordinal_suffix_of(i) {
            var j = i % 10,
                k = i % 100;
            if (j == 1 && k != 11) {
                return i + "st";
            }
            if (j == 2 && k != 12) {
                return i + "nd";
            }
            if (j == 3 && k != 13) {
                return i + "rd";
            }
            return i + "th";
        }
    </script>
    <footer class="fixed-bottom">

        <div class="container-fluid "><div class="row "><div class="col-md-12 border-top text-center p-3 m-3">Designed and Maintained by Haren prabu(19ITL110)</div>
          
        </div></div>
      </footer>

</body>

</html>